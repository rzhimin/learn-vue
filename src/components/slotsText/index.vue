<template>
  <div class="parent-wrapper">
    <h2>çˆ¶ç»„ä»¶ï¼šæˆ‘æ¥å¡«å‘</h2>

    <!-- å¼•å…¥å­ç»„ä»¶ -->
    <ChildSlots>
      <!-- 1. å¡«â€œé»˜è®¤æ’æ§½â€ -->
      <!-- è¯­æ³•ç³–ï¼štemplate ä¸å†™ v-slot é»˜è®¤å°±æ˜¯ default -->
      <template>
        <p style="color:royalblue">ğŸ‘‹ çˆ¶ç»„ä»¶è¦†ç›–äº†é»˜è®¤æ’æ§½</p>
      </template>

      <!-- 2. å¡«â€œheaderâ€å…·åæ’æ§½ -->
      <!-- v-slot:header å¯ç®€å†™ä¸º #header -->
      <template #header>
        <h3 style="color:orangered">âœï¸ çˆ¶ç»„ä»¶å®šä¹‰çš„ header</h3>
      </template>

      <!-- 3. å¡«â€œbodyâ€ä½œç”¨åŸŸæ’æ§½ -->
      <!-- é€šè¿‡è§£æ„æ‹¿åˆ°å­ç»„ä»¶æŠ›å‡ºçš„ user å’Œ counter -->
      <template #body="{ user, counter }">
        <div style="background:#f5f5f5;padding:8px">
          <p>ğŸ‘‡ ä¸‹é¢æ•°æ®æ¥è‡ªå­ç»„ä»¶ï¼Œæ ·å¼æ¥è‡ªçˆ¶ç»„ä»¶</p>
          <p>ç”¨æˆ·ï¼š{{ user.name }} â€”â€” å¹´é¾„ï¼š{{ user.age }}</p>
          <p>è®¡æ•°å™¨ï¼š{{ counter }}</p>
          <!-- çˆ¶ç»„ä»¶é‡Œå¯ç›´æ¥ä¿®æ”¹å­ç»„ä»¶æ•°æ®ï¼ˆé€šè¿‡äº‹ä»¶ï¼‰ -->
          <button @click="add(user)">çˆ¶ç»„ä»¶æŒ‰é’®ï¼šå¹´é¾„+1</button>
        </div>
      </template>

      <!-- 4. å¡«â€œfooterâ€ä½œç”¨åŸŸæ’æ§½ -->
      <!-- åªæ‹¿ versionï¼Œæ¼”ç¤ºå¯å•ç‹¬æ‹¿éƒ¨åˆ†æ•°æ® -->
      <template #footer="{ version }">
        <footer style="text-align:right;color:#999">
          å½“å‰ Vue ç‰ˆæœ¬ â€”â€” v{{ version }}
        </footer>
      </template>
    </ChildSlots>
  </div>
</template>

<script>
import ChildSlots from './ChildSlots.vue'

export default {
  name: 'ParentSlots',
  components: { ChildSlots },
  methods: {
    // çˆ¶ç»„ä»¶æƒ³æ”¹å­ç»„ä»¶æ•°æ®ï¼Ÿæ ‡å‡†åšæ³•ï¼š$emit äº‹ä»¶ï¼ˆæœ¬æ–‡èšç„¦æ’æ§½ï¼Œæ•…ç›´æ¥æ”¹å¼•ç”¨ï¼‰
    // è¿™é‡Œåªæ˜¯ä¸ºäº†æ¼”ç¤ºâ€œçˆ¶æ‹¿åˆ°å­æ•°æ®åè¿˜èƒ½ç©å®ƒâ€
    add(user) {
      user.age += 1
    }
  }
}
</script>

<style scoped>
.parent-wrapper {
  max-width: 600px;
  margin: 20px auto;
}
</style>